(()=>{"use strict";function t(t=document.body,e="js-"){const n=[...t.querySelectorAll(e?`[class*="${e}"]`:"*")],o=e?"classList":"dataset";return n.reduce(((t,n)=>([].slice.call(e?n[o]:Object.entries(n[o])).forEach((o=>{let a;e&&o.slice(0,e.length)===e?a=o.slice(e.length,o.length):e||([a]=o),a&&(t[a]=t.hasOwnProperty(a)?t[a].constructor===Array?t[a].concat(n):[t[a],n]:n)})),t)),{})}const e=t=>t.split(".").reduce(((t,e)=>t?.[e]),window?.Phill?.theme?.strings)||`Missing translation for ${t} in window.Phill`,n=window.component((n=>{const{button:o}=t(n,null),a=e("product.add_to_cart"),c=e("cart.quantity");let r=0;o.addEventListener("click",(()=>{r++,o.innerHTML=`I'm tapped ${r} times`,console.log(a,c)}))})),o={hero:n},a=window.component((()=>{document.addEventListener("shopify:section:load",(()=>{window.app.unmount(),window.app.mount()}))})),c=window.component((t=>{const{text:e}=t.dataset;console.log("console:log",e)})),r=window.component(((e,n)=>{const{group:o}=e.dataset,{inner:a,toggle:c}=t(e,null),r="open",i=()=>{e.style.setProperty("--innerHeight","auto"),e.style.setProperty("--innerHeight",`${a.scrollHeight}px`)};i(),window.addEventListener("resize",i,{passive:!0}),c.addEventListener("click",(()=>{n.emit("accordion:toggle",null,{open:!e.classList.contains(r),node:e,group:o})})),n.on("accordion:toggle",((t,n={})=>{o===n.group&&e.classList[n.open&&n.node===e?"add":"remove"](r)}))})),i=window.component(((e,n)=>{const{cartCount:o,cartToggle:a}=t(e,null),c=t=>{t?.token&&(o.textContent=t.item_count)};n.on("cart:updated",(({cart:t})=>c(t))),a.addEventListener("click",(t=>{t.preventDefault(),n.emit("cart:toggle",(({cartOpen:t})=>({cartOpen:!t??!0})))})),c(n.getState()?.cart)}));const d=({keyCode:t},{type:e,boolean:n})=>{27===t&&e&&n&&window.app.emit(e,{[n]:!1})},s={sectionRendering:a,consoleLog:c,accordion:r,header:i,cartDrawer:window.component((async(e,n)=>{const o=e.parentNode,a=e,{toggle:c,clear:r,focusEl:i}=t(e,null),s=({cartOpen:t})=>{e.classList[t?"add":"remove"]("open"),t?(a.tabIndex="0",(i||e).focus()):a.tabIndex="-1"};return c.forEach((t=>{t.addEventListener("click",(()=>n.emit("cart:toggle",(({cartOpen:t})=>({cartOpen:!t??!0})))))})),s(n.getState()),r&&r.addEventListener("click",(()=>(window.app.emit("cart:updating"),fetch(`${window.Phill.routes.cartClear}.js`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({sections:"cart-drawer"})}).then((t=>t.json())).then((t=>(window.app.emit(["cart:updated","cart:render"],{cart:t}),t)))))),e.addEventListener("keyup",(t=>d(t,{type:"cart:toggle",boolean:"cartOpen"}))),await n.on("cart:render",(({cart:t})=>{o&&(document.getElementById("shopify-section-cart-drawer").outerHTML=t.sections["cart-drawer"]),window.app.unmount(),window.app.mount()})),n.on("cart:toggle",s),()=>{n.on(["cart:toggle","cart:render"],(()=>{}))(),e.removeEventListener("keyup",(t=>d(t,{type:"cart:toggle",boolean:"cartOpen"})))}})),cartItem:window.component((e=>{const{update:n}=t(e,null),{key:o}=e.dataset;[].concat(n).forEach((t=>{const{value:e}=t.dataset;t.addEventListener("click",(()=>function(t,e){return function(t,e){return window.app.emit("cart:updating"),fetch(`${window.Phill.routes.cartChange}.js`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:e,sections:"cart-drawer"})}).then((t=>t.json())).then((async t=>(window.app.emit(["cart:updated","cart:render"],{cart:t}),t)))}(t,e)}(o,e)))}))})),hero:n};window.app.add(o),window.app.add(s),window.app.mount()})();