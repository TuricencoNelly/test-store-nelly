(()=>{"use strict";const e=window.component(((e,t)=>{const n=e,r={name:"main-collection",grid:"[data-product-grid]",loading:"[data-filter-loading]",controls:"[data-filter-controls]",selectedFilters:"[data-fiter-selected]"};n.querySelector(r.controls).addEventListener("input",((e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(void 0,r)}),t)}})((e=>((e,t)=>{e.preventDefault();(async(e,t)=>{window.app.emit(["filter:loading"]);const n=await(async e=>fetch(e).then((e=>e.text())).then((e=>(new DOMParser).parseFromString(e,"text/html"))))(`${window.location.origin+window.location.pathname}?section_id=${t.name}&${e}`);window.app.emit(["filter:render"],{html:n,uri:e})})(new URLSearchParams(new FormData(e.target.closest("form"))).toString(),t)})(e,r))));const o=e=>{n.querySelector(r.loading).style.opacity=e?1:0};t.on("filter:render",(({html:e,uri:t})=>{var o;n.querySelector(r.grid).innerHTML=e.querySelector(r.grid).innerHTML,n.querySelector(r.controls).innerHTML=e.querySelector(r.controls).innerHTML,n.querySelector(r.selectedFilters).innerHTML=e.querySelector(r.selectedFilters).innerHTML,o=t,history.pushState({searchParams:o},"",`${window.location.pathname}${o.includes("?")?o:"?".concat(o)}`),window.app.mount(),window.app.emit(["filter:loaded"])})),t.on("filter:loading",(()=>o(!0))),t.on("filter:loaded",(()=>o(!1)))})),t=e=>e.split(".").reduce(((e,t)=>e?.[t]),window?.Phill?.theme?.strings)||`Missing translation for ${e} in window.Phill`,n={collectionFilter:e,hero:window.component((e=>{const{button:n}=function(e=document.body,t="js-"){const n=[...e.querySelectorAll(t?`[class*="${t}"]`:"*")],r=t?"classList":"dataset";return n.reduce(((e,n)=>([].slice.call(t?n[r]:Object.entries(n[r])).forEach((r=>{let o;t&&r.slice(0,t.length)===t?o=r.slice(t.length,r.length):t||([o]=r),o&&(e[o]=e.hasOwnProperty(o)?e[o].constructor===Array?e[o].concat(n):[e[o],n]:n)})),e)),{})}(e,null),r=t("product.add_to_cart"),o=t("cart.quantity");let i=0;n.addEventListener("click",(()=>{i++,n.innerHTML=`I'm tapped ${i} times`,console.log(r,o)}))}))};window.app.add(n),window.app.mount()})();